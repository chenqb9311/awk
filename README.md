# awk
# awk学习随时补充
## 常用的awk内置函数：<br/>
    substr(s,1,6):截取s字段从第一个字符开始往后长度为6的子串并返回，注意awk中的str索引从1开始
    asort(a,b):仅对数组a的值进行排序，并把排序结果保存在b中，返回原数组的长度：len = asort(a,b)，数组索引也是从1开始的
    asorti(a,b):对数组a的key进行排序，并把key的排序结果保存在数组b中，返回原数组的长度：len = asorti(a,b)所以要在排序后取出每个key对应的值，需要从a中取：a[b[i]]
        
## 几个tips:<br/>
    awk中的数组其实就是和python中的dict一样，实际上保存的是key-value对，所以它hi无序的，在对文本分析时，如果要求有序的操作，一定要调用asort()或 asorti()函数进行处理
    网上找的例子：给定一个员工每个月的薪水表，统计每个月的薪水，并按照月份对其进行输出：
```
cat salary.txt
20150106 2140
20150206 3560
20150206 300
20150305 3000
20150406 2000
20150510 5000
20150510 100

awk '{a[$1]+=$2} END{len=asorti(a,b); for(i=1;i<=len;i++){print substr(b[i],1,6)":"a[b[i]]}}' salary.txt 
201501:2140
201502:3860
201503:3000
201504:2000
201505:5100

